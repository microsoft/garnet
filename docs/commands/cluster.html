<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-commands/cluster" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Cluster Commands | Garnet</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/garnet/docs/commands/cluster"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cluster Commands | Garnet"><meta data-rh="true" name="description" content="CLUSTER ADDSLOTS"><meta data-rh="true" property="og:description" content="CLUSTER ADDSLOTS"><link data-rh="true" rel="icon" href="/garnet/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/garnet/docs/commands/cluster"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/garnet/docs/commands/cluster" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/garnet/docs/commands/cluster" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Cluster Commands","item":"https://microsoft.github.io/garnet/docs/commands/cluster"}]}</script><link rel="alternate" type="application/rss+xml" href="/garnet/blog/rss.xml" title="Garnet RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/garnet/blog/atom.xml" title="Garnet Atom Feed">




<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/loh6v65ww5",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/garnet/assets/css/styles.c254282c.css">
<script src="/garnet/assets/js/runtime~main.9ce1f428.js" defer="defer"></script>
<script src="/garnet/assets/js/main.133419a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/garnet/img/garnet-logo-diamond.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/garnet/"><div class="navbar__logo"><img src="/garnet/img/garnet-logo-diamond.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/garnet/img/garnet-logo-diamond.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Garnet</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/garnet/docs">Docs</a><a class="navbar__item navbar__link" href="/garnet/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/microsoft/garnet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/garnet/docs">Welcome</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/news">News</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/features">Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/releases">Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/compatibility">Compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/about-us">About Us</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/getting-started">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/benchmarking/overview">Benchmarking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/garnet/docs/commands/overview">Commands</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/api-compatibility">API Compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/raw-string">Raw String</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/generic">Generic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/analytics">Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/data-structures">Data Structures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/server">Server Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/client">Client Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/checkpoint">Checkpoint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/garnet/docs/commands/cluster">Cluster Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/acl">ACL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/scripting">Scripting and functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/garnet-specific-commands">Garnet-specific Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/commands/json">JSON Module</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/extensions/overview">Server Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/cluster/overview">Cluster Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/dev/onboarding">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/research/papers">Research</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://github.com/microsoft/garnet/releases" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Other Links</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/garnet/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Commands</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Cluster Commands</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cluster Commands</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-addslots">CLUSTER ADDSLOTS<a href="#cluster-addslots" class="hash-link" aria-label="Direct link to CLUSTER ADDSLOTS" title="Direct link to CLUSTER ADDSLOTS">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax">Syntax<a href="#syntax" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER ADDSLOTS slot [slot ...]</span><br></span></code></pre></div></div>
<p>This command is used to assign specific slots to a given node.
The node receiving the command will perform the following checks:</p>
<ol>
<li>A node will refuse to acquire ownership of a slot that is already assigned to another node, from its point of view.</li>
<li>The command will fail if a node is specified multiple times.</li>
<li>If the slot value specified is out of the designated range (0-16383), the command will return out of range error.</li>
</ol>
<p>This command is used initially to setup a redis cluster or fix a broken cluster where slots ranges might be unassigned due to failures.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply">RESP Reply<a href="#resp-reply" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-addslotsrange">CLUSTER ADDSLOTSRANGE<a href="#cluster-addslotsrange" class="hash-link" aria-label="Direct link to CLUSTER ADDSLOTSRANGE" title="Direct link to CLUSTER ADDSLOTSRANGE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-1">Syntax<a href="#syntax-1" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER ADDSLOTSRANGE start-slot end-slot [start-slot end-slot ...]</span><br></span></code></pre></div></div>
<p>This command is similar to addslots and only differs in that it allows for specifying slot ranges assigned to the receiving node.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-1">RESP Reply<a href="#resp-reply-1" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-bumpepoch">CLUSTER BUMPEPOCH<a href="#cluster-bumpepoch" class="hash-link" aria-label="Direct link to CLUSTER BUMPEPOCH" title="Direct link to CLUSTER BUMPEPOCH">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-2">Syntax<a href="#syntax-2" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER BUMPEPOCH</span><br></span></code></pre></div></div>
<p>Advances the config epoch of the receiving node.
The config epoch is used internally to apply configuration changes across the cluster.
Migration and failover operations automatically bump the configuration epoch when necessary.
It should be used with caution by the cluster orchestrator as needed to adjust cluster configuration.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-2">RESP Reply<a href="#resp-reply-2" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-banlist">CLUSTER BANLIST<a href="#cluster-banlist" class="hash-link" aria-label="Direct link to CLUSTER BANLIST" title="Direct link to CLUSTER BANLIST">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-3">Syntax<a href="#syntax-3" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER BANLIST</span><br></span></code></pre></div></div>
<p>Return the list of nodes currently banned from being added to the cluster along with expiry time in seconds.
This command is used in combination with <code>CLUSTER FORGET</code> to monitor which nodes are banned from being added in the cluster.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-3">RESP Reply<a href="#resp-reply-3" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns array list of strings &quot;nodeid : expiry&quot; or empty array.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1:7000&gt; cluster banlist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;ad9e5b8bde5ffb0cf7a3372fe0345f765186983f : 57&quot;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-countkeysinslot">CLUSTER COUNTKEYSINSLOT<a href="#cluster-countkeysinslot" class="hash-link" aria-label="Direct link to CLUSTER COUNTKEYSINSLOT" title="Direct link to CLUSTER COUNTKEYSINSLOT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-4">Syntax<a href="#syntax-4" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER COUNTKEYSINSLOT slot</span><br></span></code></pre></div></div>
<p>Returns the number of existing keys hashing to the corresponding slot.
The command queries only the data of the receiving node.
For slots not owned by the receiving node, the result returned is always zero.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-4">RESP Reply<a href="#resp-reply-4" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns integer value.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-delkeysinslot">CLUSTER DELKEYSINSLOT<a href="#cluster-delkeysinslot" class="hash-link" aria-label="Direct link to CLUSTER DELKEYSINSLOT" title="Direct link to CLUSTER DELKEYSINSLOT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-5">Syntax<a href="#syntax-5" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER DELKEYSINSLOT slot [slot ...]</span><br></span></code></pre></div></div>
<p>This command asks the receiving node to delete all keys mapping to the provided nodes.
The cluster operator can use this command to cleanup any orphaned keys which are no longer served by the receiving node.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-5">RESP Reply<a href="#resp-reply-5" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-delkeysinslotrange">CLUSTER DELKEYSINSLOTRANGE<a href="#cluster-delkeysinslotrange" class="hash-link" aria-label="Direct link to CLUSTER DELKEYSINSLOTRANGE" title="Direct link to CLUSTER DELKEYSINSLOTRANGE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-6">Syntax<a href="#syntax-6" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER DELKEYSINSLOTRANGE start-slot end-slot [start-slot end-slot ...]</span><br></span></code></pre></div></div>
<p>This command is similar to delkeysinslot and only differs in that it allows for specifying slot ranges.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-6">RESP Reply<a href="#resp-reply-6" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-delslots">CLUSTER DELSLOTS<a href="#cluster-delslots" class="hash-link" aria-label="Direct link to CLUSTER DELSLOTS" title="Direct link to CLUSTER DELSLOTS">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-7">Syntax<a href="#syntax-7" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER DELSLOTS slot [slot ...]</span><br></span></code></pre></div></div>
<p>This command asks the receiving node to forget which primary serves the corresponding slots.
Note that this command will work only for the receiving node.
Forgeting slots will not propagate to other nodes.
The receiving node will not stop accepting gossip messages.
In that case, if a gossip message is received from a remote node containing assignment of these nodes, that
node will accept the assignment if the config epoch of the slot owner is greater than the local copy.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-7">RESP Reply<a href="#resp-reply-7" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-delslotsrange">CLUSTER DELSLOTSRANGE<a href="#cluster-delslotsrange" class="hash-link" aria-label="Direct link to CLUSTER DELSLOTSRANGE" title="Direct link to CLUSTER DELSLOTSRANGE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-8">Syntax<a href="#syntax-8" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER DELSLOTSRANGE start-slot end-slot [start-slot end-slot ...]</span><br></span></code></pre></div></div>
<p>This command is similar to delslots and only differs in that it allows for specifying slot ranges to be forgotten at the the receiving node.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-8">RESP Reply<a href="#resp-reply-8" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-endpoint">CLUSTER ENDPOINT<a href="#cluster-endpoint" class="hash-link" aria-label="Direct link to CLUSTER ENDPOINT" title="Direct link to CLUSTER ENDPOINT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-9">Syntax<a href="#syntax-9" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER ENDPOINT node-id</span><br></span></code></pre></div></div>
<p>This command returns the endpoint associated with the given node-id.
If the receiving node does not have any information about the provided node-id it will return &quot;unassigned:0&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-9">RESP Reply<a href="#resp-reply-9" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Bulk string of endpoint &quot;address<!-- -->:port<!-- -->&quot; or &quot;unassigned:0&quot;</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-failover">CLUSTER FAILOVER<a href="#cluster-failover" class="hash-link" aria-label="Direct link to CLUSTER FAILOVER" title="Direct link to CLUSTER FAILOVER">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-10">Syntax<a href="#syntax-10" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER FAILOVER [FORCE | ABORT]</span><br></span></code></pre></div></div>
<p>This command is sent to a replica to start a manual failover and take the role of its primary.
It can be called to safely swap the current primary to a replica node without any data loss, if the primary is reachable.
When a replica receives the above command it executes the following steps</p>
<ol>
<li>Issue stop writes to primary. Behavior can be overriden using FORCE option.</li>
<li>Primary replies with current replication offset after it has blocked any writes. Behavior can be overriden using FORCE option.</li>
<li>Replica awaits for its local replication offset to match that of the primary. Behavior can be overriden using FORCE option.</li>
<li>Replica takes over as new primary and bumps its local config epoch.</li>
<li>New primary propagates configuration change through gossip.</li>
</ol>
<p>The cluster operator can also use the ABORT option to abort an ongoing failover where appropriate.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-10">RESP Reply<a href="#resp-reply-10" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.
This does not mean that FAILOVER has succeeded, only that the failover background task has started.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-forget">CLUSTER FORGET<a href="#cluster-forget" class="hash-link" aria-label="Direct link to CLUSTER FORGET" title="Direct link to CLUSTER FORGET">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-11">Syntax<a href="#syntax-11" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER FORGET node-id [expiry-in-seconds]</span><br></span></code></pre></div></div>
<p>This command is used to forget a node from the perspective of the receiving node.
Because other nodes in the cluster might know about the node that is being forgotten, it is possible that the forgotten node will be re-added through gossip.
For this reason, every forgotten node is associated with an expiry that prevents, that node to be re-added for the expiration period.
The cluster operator can provide a custom expiration period. The default value is 60 seconds.
In order to forget the node across the cluster, the operator has to issue forget to all nodes in the cluster individually.
The command will fail if any of the following occurs:</p>
<ol>
<li>A node cannot forget itself.</li>
<li>An unknown node cannot be forgotten.</li>
<li>The receiving node is a replica and the node to be forgotten is its primary.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-11">RESP Reply<a href="#resp-reply-11" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-getkeysinslot">CLUSTER GETKEYSINSLOT<a href="#cluster-getkeysinslot" class="hash-link" aria-label="Direct link to CLUSTER GETKEYSINSLOT" title="Direct link to CLUSTER GETKEYSINSLOT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-12">Syntax<a href="#syntax-12" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER GETKEYSINSLOT slot count</span><br></span></code></pre></div></div>
<p>This command returns an array of existing keys that map to the corresponding slot.
It is used during manual re-sharding along with other related commands (i.e. countkeysinslot).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-12">RESP Reply<a href="#resp-reply-12" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>An array of keys or empty.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-info">CLUSTER INFO<a href="#cluster-info" class="hash-link" aria-label="Direct link to CLUSTER INFO" title="Direct link to CLUSTER INFO">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-13">Syntax<a href="#syntax-13" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER INFO</span><br></span></code></pre></div></div>
<p>CLUSTER INFO provides INFO style information about Redis Cluster vital parameters.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-13">RESP Reply<a href="#resp-reply-13" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Bulk string reply: A map between named fields and values in the form of : lines separated by newlines composed by the two bytes CRLF.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-keyslot">CLUSTER KEYSLOT<a href="#cluster-keyslot" class="hash-link" aria-label="Direct link to CLUSTER KEYSLOT" title="Direct link to CLUSTER KEYSLOT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-14">Syntax<a href="#syntax-14" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER KEYSLOT &lt;key&gt;</span><br></span></code></pre></div></div>
<p>The command returns an integer value identifying the slot the corresponding key hashes to.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-14">RESP Reply<a href="#resp-reply-14" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns integer value in range between 0 to 16383</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-meet">CLUSTER MEET<a href="#cluster-meet" class="hash-link" aria-label="Direct link to CLUSTER MEET" title="Direct link to CLUSTER MEET">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-15">Syntax<a href="#syntax-15" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER MEET address port</span><br></span></code></pre></div></div>
<p>This command is used to connect Garnet cluster instances to each other.
By default the nodes do not trust its other and only accept nodes that have been introduced through cluster meet or through gossip messages from another trusted node.
The cluster operator is supposed to connect nodes by issuing meet when setting up the cluster.
However, as indicated above the meet issued does not need to be reciprocal.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-15">RESP Reply<a href="#resp-reply-15" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-myid">CLUSTER MYID<a href="#cluster-myid" class="hash-link" aria-label="Direct link to CLUSTER MYID" title="Direct link to CLUSTER MYID">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-16">Syntax<a href="#syntax-16" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER MYID</span><br></span></code></pre></div></div>
<p>This command returns the unique node-id of the receiving node</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-16">RESP Reply<a href="#resp-reply-16" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns a bulk string of the node-id</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-myparentid">CLUSTER MYPARENTID<a href="#cluster-myparentid" class="hash-link" aria-label="Direct link to CLUSTER MYPARENTID" title="Direct link to CLUSTER MYPARENTID">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-17">Syntax<a href="#syntax-17" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER MYPARENTID</span><br></span></code></pre></div></div>
<p>This command returns the node-id of its parent-node (i.e. primary) if the node is a replica.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-17">RESP Reply<a href="#resp-reply-17" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns a bulk string of the parent-node else it returns its own id.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-nodes">CLUSTER NODES<a href="#cluster-nodes" class="hash-link" aria-label="Direct link to CLUSTER NODES" title="Direct link to CLUSTER NODES">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-18">Syntax<a href="#syntax-18" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER NODES</span><br></span></code></pre></div></div>
<p>This command returns the cluster configuration from the perspective of the receiving node.
The cluster operator should use this command to retrieve cluster information for administrative tasks, debugging and configuration inspections.</p>
<p>The output of the command is space separated csv string which contains information about all known nodes in the cluster.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PS C:\Dev&gt; redis-cli -p 7000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1:7000&gt; cluster nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e39d271c7c4a4afca0e3d97154d2788502af12e3 192.168.1.26:7000@17000,test-host1 myself,master - 0 0 1 connected 0-5461</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e0a69e89458c078d61a7a38f8e5f191522dcb1a7 192.168.1.26:7001@17001,test-host2 master - 0 0 2 connected 5462-10922</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6fad21a7b28f1f2f05324257abf5e5e3b54e3286 192.168.1.26:7002@17002,test-host3 master - 0 0 3 connected 10923-16383</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">93a06cbed623ab044f809e2c67f3c3607ec0cc43 192.168.1.26:7003@17003,test-host4 slave e0a69e89458c078d61a7a38f8e5f191522dcb1a7 0 0 7 connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">03742a8ce43a911a81562e4947194bf54a8da2c6 192.168.1.26:7004@17004,test-host5 slave 6fad21a7b28f1f2f05324257abf5e5e3b54e3286 0 0 8 connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e5f1c7ec263e5b9133d88535572901af881ab644 192.168.1.26:7005@17005,test-host6 slave e39d271c7c4a4afca0e3d97154d2788502af12e3 0 0 9 connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1:7000&gt;</span><br></span></code></pre></div></div>
<p>Each line is contains the following fields:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;id&gt; &lt;ip:port@cport[,hostname]&gt; &lt;flags&gt; &lt;master&gt; &lt;ping-sent&gt; &lt;pong-recv&gt; &lt;config-epoch&gt; &lt;link-state&gt; &lt;slot&gt; &lt;slot&gt; ... &lt;slot&gt;</span><br></span></code></pre></div></div>
<p>To be compatible with the resp protocol, we emit the above information when responding to cluster nodes command.
However, not all information is actively used or updated.
For each, we actively use in Garnet, we present a short description below:</p>
<ol>
<li>id: The node-id, a 40-character globally unique string generated for each node at start-up.</li>
<li>ip<!-- -->:port<!-- -->@cport: The node&#x27;s endpoint that clients should connect to issue queries. The second port is not being used actively by the Garnet instances nor it is open for communication.</li>
<li>hostname: A human readable string that is always available automatically from the system. It is not configurable at this point.</li>
<li>flags: Comma separated flags myself,master,slave</li>
<li>master: If the node is a replica and the primary is known, this would be the node-id of the master otherwise -</li>
<li>ping-sent: N/A</li>
<li>pong-recv: N/A</li>
<li>config-epoch: local configuration epoch for receiving node</li>
<li>slot: slots served by associated node. If node is a replica, it implicitly serves reads for that slot</li>
</ol>
<p>Note: Unfortunately for this command, the word slave is part of the protocol and cannot be removed, until that part of the API becomes deprecated.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-18">RESP Reply<a href="#resp-reply-18" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns a bulk string of serialized cluster configuration.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-replicas">CLUSTER REPLICAS<a href="#cluster-replicas" class="hash-link" aria-label="Direct link to CLUSTER REPLICAS" title="Direct link to CLUSTER REPLICAS">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-19">Syntax<a href="#syntax-19" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER REPLICAS node-id</span><br></span></code></pre></div></div>
<p>This command returns an array of nodes, replicating the primary specified by the provided node-id.
The returned information use the same format as in cluster nodes.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-19">RESP Reply<a href="#resp-reply-19" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Array list of nodes replicating the corresponding node.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-replicate">CLUSTER REPLICATE<a href="#cluster-replicate" class="hash-link" aria-label="Direct link to CLUSTER REPLICATE" title="Direct link to CLUSTER REPLICATE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-20">Syntax<a href="#syntax-20" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER REPLICATE node-id</span><br></span></code></pre></div></div>
<p>This command configures the receiving node to replicate the primary indicated by the corresponding node-id.
Once the command succeeds, the rest of the nodes will be informed about the configuration change through gossip.</p>
<p>A node that receives the above command will accept it assuming the following conditions are met:</p>
<ol>
<li>Receiving node is a primary</li>
<li>Provided node-id refers to a known primary.</li>
<li>Provided node-id differs from the node-id of the receiving node.</li>
<li>The receiving node does not serve any slots.</li>
</ol>
<p>Upon receipt of the command, the instance will immediately try to attach to the primary and retrieve the latest primary checkpoint.
After receiving it, it will initiate aof sync from primary and start responding to read requests.
The request to replicate is executed async, so the response to the client will be immediate.
This does not mean replica has attached succesfully, only that replicate request was initiated succesfully.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-20">RESP Reply<a href="#resp-reply-20" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-set-config-epoch">CLUSTER SET-CONFIG-EPOCH<a href="#cluster-set-config-epoch" class="hash-link" aria-label="Direct link to CLUSTER SET-CONFIG-EPOCH" title="Direct link to CLUSTER SET-CONFIG-EPOCH">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-21">Syntax<a href="#syntax-21" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER SET-CONFIG-EPOCH config-epoch</span><br></span></code></pre></div></div>
<p>This command sets a specific config epoch in a fresh node. It will succeed only if:</p>
<ol>
<li>The nodes table is empty</li>
<li>The config epoch of the receiving node is zero.</li>
</ol>
<p>This command is usually called when setting up a new cluster.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-21">RESP Reply<a href="#resp-reply-21" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-setslot">CLUSTER SETSLOT<a href="#cluster-setslot" class="hash-link" aria-label="Direct link to CLUSTER SETSLOT" title="Direct link to CLUSTER SETSLOT">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-22">Syntax<a href="#syntax-22" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER SETSLOT slot &lt;IMPORTING source-node-id | MIGRATING target-node-id | NODE node-id | STABLE&gt;</span><br></span></code></pre></div></div>
<p>This command is used to alter the state of a slot in the receiving node during migration.
The cluster operator can use this command in combination with MIGRATE, COUNTKEYSINSLOT, and GETKEYSINSLOT to transfer slot ownership between nodes in the cluster.</p>
<p>The following options are available:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="migrating">MIGRATING<a href="#migrating" class="hash-link" aria-label="Direct link to MIGRATING" title="Direct link to MIGRATING">​</a></h4>
<p>The slot state is set to MIGRATING, if and only if</p>
<ol>
<li>the receiving node is the primary owner of the slot</li>
<li>the slot is not already in migrating state</li>
<li>the specifief node-id is known and it corresponds to a primary node.</li>
</ol>
<p>Due to the aforementioned conditions, slots can transition to MIGRATING state only at the source node.
Therefore, any queries on keys associated to a slot that is in MIGRATING state, will be processed at the source node as follows:</p>
<ul>
<li>Read commands are processed as usual if key exists otherwise they are redirected to target node using <em>-MOVED</em> response.</li>
<li>Write requests for existing keys are declined using <em>-MIGRATING</em> response otherwise they are redirected to the target node using <em>-ASK</em> response.</li>
</ul>
<p><strong>NOTE:</strong>
This state change is transient so it will not be propagated through gossip to rest of cluster nodes.
However, <em>-MOVED</em> redirection will still be emitted pointing to the source node of the slot.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing">IMPORTING<a href="#importing" class="hash-link" aria-label="Direct link to IMPORTING" title="Direct link to IMPORTING">​</a></h4>
<p>The slot state is set to IMPORTING, if and only if</p>
<ol>
<li>The receiving node is a primary that does not already own the slot.</li>
<li>The corresponding source-node-id is a known primary node that owns the slot.</li>
</ol>
<p>Any queries referring to keys related to the importing slot are processed only if precedeed by ASKING, otherwise all requests emit <em>-MOVED</em> response.</p>
<p><strong>NOTE:</strong>
This state change is transient so it will not be propagated through gossip to rest of cluster nodes.
However, <em>-MOVED</em> redirection will still be emitted pointing to the source node of the slot.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="stable">STABLE<a href="#stable" class="hash-link" aria-label="Direct link to STABLE" title="Direct link to STABLE">​</a></h5>
<p>This option is used to clear MIGRATING or IMPORTING state.
It is used mainly to fix the cluster that has stuck in a bad state due to possible failures.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="node">NODE<a href="#node" class="hash-link" aria-label="Direct link to NODE" title="Direct link to NODE">​</a></h4>
<p>This option is used to transition ownership of the migrating slot to the target node.</p>
<p>If the node receiving the command is in importing state (i.e. the target node), it will set itself at the owner of the node and bump config epoch.
If the node receiving the comamdn is in migrating state (i.e. the source node), it will assign ownernship of the node to the target node but will not bump the epoch.</p>
<p><strong>NOTE</strong> For more info about the command checkout the key migration page.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-22">RESP Reply<a href="#resp-reply-22" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-setslotrange">CLUSTER SETSLOTRANGE<a href="#cluster-setslotrange" class="hash-link" aria-label="Direct link to CLUSTER SETSLOTRANGE" title="Direct link to CLUSTER SETSLOTRANGE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-23">Syntax<a href="#syntax-23" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER SETSLOTRANGE &lt;IMPORTING source-node-id | MIGRATING target-node-id | NODE node-id | STABLE&gt; slot-start slot-end [slot-start slot-end ...]</span><br></span></code></pre></div></div>
<p>This command is similar to setslot and only differs in that it allows for specifying slot ranges.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-23">RESP Reply<a href="#resp-reply-23" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Returns +OK on success, otherwise --ERR message if any.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-shards">CLUSTER SHARDS<a href="#cluster-shards" class="hash-link" aria-label="Direct link to CLUSTER SHARDS" title="Direct link to CLUSTER SHARDS">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-24">Syntax<a href="#syntax-24" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER SETSLOTRANGE &lt;IMPORTING source-node-id | MIGRATING target-node-id | NODE node-id | STABLE&gt; slot-start slot-end [slot-start slot-end ...]</span><br></span></code></pre></div></div>
<p>This commands returns details about the shards in the cluster.
Shards have a single primary node and multiple replicas serving a specific range of slots.
The information returned are generated from the local configuration view of the receiving node.</p>
<p>An example of the command output is shown below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PS C:\Dev&gt; redis-cli -p 7001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1:7001&gt; cluster shards</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1) 1) &quot;slots&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2) 1) (integer) 5462</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2) (integer) 10922</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3) &quot;nodes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   4) 1)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;e0f69d9f8d4d2b2fa100d1dd1fbd7bc2cf4e9396&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;PRIMARY&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;4e79261982fe0162262da2f912f6dd4bc9161099&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;REPLICA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) 1) &quot;slots&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2) 1) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2) (integer) 5461</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3) &quot;nodes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   4) 1)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;228133c63d1151f784c9404241c8b06afbc83117&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;PRIMARY&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;96cd8f6d4b57cea02deb9147cdcfac79a4641d0c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7005</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;REPLICA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) 1) &quot;slots&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   2) 1) (integer) 10923</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2) (integer) 16383</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3) &quot;nodes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   4) 1)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;810544afb338b6b217a6e169b0115d70337bf557&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;PRIMARY&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      2)  1) &quot;id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2) &quot;2035250845f809ab23a2f4c51e73b1c4541c0092&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3) &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          4) (integer) 7004</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          5) &quot;address&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          6) &quot;10.159.2.73&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          7) &quot;role&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          8) &quot;REPLICA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          9) &quot;replication-offset&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         10) (integer) 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         11) &quot;health&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         12) &quot;online&quot;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-24">RESP Reply<a href="#resp-reply-24" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Array reply: a nested list of hash ranges and node information grouped by shard.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-slots">CLUSTER SLOTS<a href="#cluster-slots" class="hash-link" aria-label="Direct link to CLUSTER SLOTS" title="Direct link to CLUSTER SLOTS">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-25">Syntax<a href="#syntax-25" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	CLUSTER SLOTS</span><br></span></code></pre></div></div>
<p>CLUSTER SLOTS returns details about which cluster slots map to which Redis instances.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-25">RESP Reply<a href="#resp-reply-25" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Array reply: nested list of slot ranges with networking information.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="asking">ASKING<a href="#asking" class="hash-link" aria-label="Direct link to ASKING" title="Direct link to ASKING">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-26">Syntax<a href="#syntax-26" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	ASKING</span><br></span></code></pre></div></div>
<p>When a cluster client receives an -ASK redirect, the ASKING command is sent to the target node followed by the command which was redirected. This is normally done automatically by cluster clients.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-26">RESP Reply<a href="#resp-reply-26" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Simple string reply: OK.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="readonly">READONLY<a href="#readonly" class="hash-link" aria-label="Direct link to READONLY" title="Direct link to READONLY">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-27">Syntax<a href="#syntax-27" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	READONLY</span><br></span></code></pre></div></div>
<p>Enables read queries for a connection to a Redis Cluster replica node.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-27">RESP Reply<a href="#resp-reply-27" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Simple string reply: OK.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="readwrite">READWRITE<a href="#readwrite" class="hash-link" aria-label="Direct link to READWRITE" title="Direct link to READWRITE">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-28">Syntax<a href="#syntax-28" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	READWRITE</span><br></span></code></pre></div></div>
<p>Disables read queries for a connection to a Redis Cluster replica node.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-28">RESP Reply<a href="#resp-reply-28" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Simple string reply: OK.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reset">RESET<a href="#reset" class="hash-link" aria-label="Direct link to RESET" title="Direct link to RESET">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-29">Syntax<a href="#syntax-29" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	RESET</span><br></span></code></pre></div></div>
<p>This command performs a full reset of the connection&#x27;s server-side context, mimicking the effect of disconnecting and reconnecting again.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resp-reply-29">RESP Reply<a href="#resp-reply-29" class="hash-link" aria-label="Direct link to RESP Reply" title="Direct link to RESP Reply">​</a></h4>
<p>Simple string reply: RESET.</p>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/microsoft/garnet/tree/main/website/docs/commands/cluster.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/garnet/docs/commands/transactions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Transactions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/garnet/docs/commands/acl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ACL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cluster-addslots" class="table-of-contents__link toc-highlight">CLUSTER ADDSLOTS</a></li><li><a href="#cluster-addslotsrange" class="table-of-contents__link toc-highlight">CLUSTER ADDSLOTSRANGE</a></li><li><a href="#cluster-bumpepoch" class="table-of-contents__link toc-highlight">CLUSTER BUMPEPOCH</a></li><li><a href="#cluster-banlist" class="table-of-contents__link toc-highlight">CLUSTER BANLIST</a></li><li><a href="#cluster-countkeysinslot" class="table-of-contents__link toc-highlight">CLUSTER COUNTKEYSINSLOT</a></li><li><a href="#cluster-delkeysinslot" class="table-of-contents__link toc-highlight">CLUSTER DELKEYSINSLOT</a></li><li><a href="#cluster-delkeysinslotrange" class="table-of-contents__link toc-highlight">CLUSTER DELKEYSINSLOTRANGE</a></li><li><a href="#cluster-delslots" class="table-of-contents__link toc-highlight">CLUSTER DELSLOTS</a></li><li><a href="#cluster-delslotsrange" class="table-of-contents__link toc-highlight">CLUSTER DELSLOTSRANGE</a></li><li><a href="#cluster-endpoint" class="table-of-contents__link toc-highlight">CLUSTER ENDPOINT</a></li><li><a href="#cluster-failover" class="table-of-contents__link toc-highlight">CLUSTER FAILOVER</a></li><li><a href="#cluster-forget" class="table-of-contents__link toc-highlight">CLUSTER FORGET</a></li><li><a href="#cluster-getkeysinslot" class="table-of-contents__link toc-highlight">CLUSTER GETKEYSINSLOT</a></li><li><a href="#cluster-info" class="table-of-contents__link toc-highlight">CLUSTER INFO</a></li><li><a href="#cluster-keyslot" class="table-of-contents__link toc-highlight">CLUSTER KEYSLOT</a></li><li><a href="#cluster-meet" class="table-of-contents__link toc-highlight">CLUSTER MEET</a></li><li><a href="#cluster-myid" class="table-of-contents__link toc-highlight">CLUSTER MYID</a></li><li><a href="#cluster-myparentid" class="table-of-contents__link toc-highlight">CLUSTER MYPARENTID</a></li><li><a href="#cluster-nodes" class="table-of-contents__link toc-highlight">CLUSTER NODES</a></li><li><a href="#cluster-replicas" class="table-of-contents__link toc-highlight">CLUSTER REPLICAS</a></li><li><a href="#cluster-replicate" class="table-of-contents__link toc-highlight">CLUSTER REPLICATE</a></li><li><a href="#cluster-set-config-epoch" class="table-of-contents__link toc-highlight">CLUSTER SET-CONFIG-EPOCH</a></li><li><a href="#cluster-setslot" class="table-of-contents__link toc-highlight">CLUSTER SETSLOT</a></li><li><a href="#cluster-setslotrange" class="table-of-contents__link toc-highlight">CLUSTER SETSLOTRANGE</a></li><li><a href="#cluster-shards" class="table-of-contents__link toc-highlight">CLUSTER SHARDS</a></li><li><a href="#cluster-slots" class="table-of-contents__link toc-highlight">CLUSTER SLOTS</a></li><li><a href="#asking" class="table-of-contents__link toc-highlight">ASKING</a></li><li><a href="#readonly" class="table-of-contents__link toc-highlight">READONLY</a></li><li><a href="#readwrite" class="table-of-contents__link toc-highlight">READWRITE</a></li><li><a href="#reset" class="table-of-contents__link toc-highlight">RESET</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/garnet/docs/getting-started">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aka.ms/garnet-discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/msrgarnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/garnet/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p class="text-center">
          <a href="https://go.microsoft.com/fwlink/?LinkId=521839" style="color: white;">Privacy &amp; Cookies</a> |
          <a href="https://go.microsoft.com/fwlink/?LinkID=2259814" style="color: white;">Consumer Health Privacy</a> |
          <a href="https://go.microsoft.com/fwlink/?LinkID=206977" style="color: white;">Terms of Use</a> |
          <a href="https://www.microsoft.com/trademarks" style="color: white;">Trademarks</a> | © 2025
          </p></div></div></div></footer></div>
</body>
</html>