<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-azure/monitoring" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Monitoring Azure Cosmos DB Garnet Cache | Garnet</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/garnet/docs/azure/monitoring"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Monitoring Azure Cosmos DB Garnet Cache | Garnet"><meta data-rh="true" name="description" content="Azure Cosmos DB Garnet Cache provides comprehensive monitoring capabilities through Azure Monitor, enabling you to track performance, troubleshoot issues, and optimize your cache deployment."><meta data-rh="true" property="og:description" content="Azure Cosmos DB Garnet Cache provides comprehensive monitoring capabilities through Azure Monitor, enabling you to track performance, troubleshoot issues, and optimize your cache deployment."><link data-rh="true" rel="icon" href="/garnet/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/garnet/docs/azure/monitoring"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/garnet/docs/azure/monitoring" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/garnet/docs/azure/monitoring" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Monitoring","item":"https://microsoft.github.io/garnet/docs/azure/monitoring"}]}</script><link rel="alternate" type="application/rss+xml" href="/garnet/blog/rss.xml" title="Garnet RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/garnet/blog/atom.xml" title="Garnet Atom Feed">




<script>!function(t,e,n,c,a,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(c)).async=1,r.src="https://www.clarity.ms/tag/loh6v65ww5",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/garnet/assets/css/styles.a0a59612.css">
<script src="/garnet/assets/js/runtime~main.a7649538.js" defer="defer"></script>
<script src="/garnet/assets/js/main.017dcb4f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/garnet/img/garnet-logo-diamond.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/garnet/"><div class="navbar__logo"><img src="/garnet/img/garnet-logo-diamond.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/garnet/img/garnet-logo-diamond.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Garnet</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/garnet/docs">Docs</a><a class="navbar__item navbar__link" href="/garnet/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/microsoft/garnet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/garnet/docs"><span title="Welcome" class="categoryLinkLabel_W154">Welcome</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs"><span title="Intro" class="linkLabel_WmDU">Intro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/news"><span title="News" class="linkLabel_WmDU">News</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/features"><span title="Features" class="linkLabel_WmDU">Features</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/releases"><span title="Releases" class="linkLabel_WmDU">Releases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/compatibility"><span title="Compatibility" class="linkLabel_WmDU">Compatibility</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/roadmap"><span title="Roadmap" class="linkLabel_WmDU">Roadmap</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/welcome/about-us"><span title="About Us" class="linkLabel_WmDU">About Us</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/benchmarking/overview"><span title="Benchmarking" class="categoryLinkLabel_W154">Benchmarking</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/commands/overview"><span title="Commands" class="categoryLinkLabel_W154">Commands</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/extensions/overview"><span title="Server Extensions" class="categoryLinkLabel_W154">Server Extensions</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/cluster/overview"><span title="Cluster Mode" class="categoryLinkLabel_W154">Cluster Mode</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/dev/onboarding"><span title="Developer Guide" class="categoryLinkLabel_W154">Developer Guide</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/garnet/docs/azure/overview"><span title="Managed Offering (Azure)" class="categoryLinkLabel_W154">Managed Offering (Azure)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/quickstart"><span title="Quick Start" class="linkLabel_WmDU">Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/api-compatibility"><span title="API Compatibility" class="linkLabel_WmDU">API Compatibility</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/cluster-configuration"><span title="Cluster Configuration" class="linkLabel_WmDU">Cluster Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/resiliency"><span title="Resiliency" class="linkLabel_WmDU">Resiliency</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/security"><span title="Security" class="linkLabel_WmDU">Security</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/garnet/docs/azure/monitoring"><span title="Monitoring" class="linkLabel_WmDU">Monitoring</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/garnet/docs/azure/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/garnet/docs/research/papers"><span title="Research" class="categoryLinkLabel_W154">Research</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://github.com/microsoft/garnet/releases" target="_blank" rel="noopener noreferrer" class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false"><span title="Other Links" class="categoryLinkLabel_W154">Other Links</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/garnet/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Managed Offering (Azure)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Monitoring</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Monitoring Azure Cosmos DB Garnet Cache</h1></header>
<p>Azure Cosmos DB Garnet Cache provides comprehensive monitoring capabilities through Azure Monitor, enabling you to track performance, troubleshoot issues, and optimize your cache deployment.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="azure-monitor">Azure Monitor<a href="#azure-monitor" class="hash-link" aria-label="Direct link to Azure Monitor" title="Direct link to Azure Monitor" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metrics">Metrics<a href="#metrics" class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics" translate="no">​</a></h3>
<p>Azure Cosmos DB Garnet Cache automatically collects metrics and sends them to Azure Monitor. Most metrics have <strong>Min</strong>, <strong>Max</strong>, and <strong>Average</strong> aggregations as well as the ability to split by <strong>Node</strong> for detailed insights into cluster performance.</p>
<p><img decoding="async" loading="lazy" alt="Azure Monitor Metrics" src="/garnet/assets/images/metrics-e7d7f491828a7ee375183200320f1906.png" width="1654" height="849" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="garnet-client-metrics">Garnet Client Metrics<a href="#garnet-client-metrics" class="hash-link" aria-label="Direct link to Garnet Client Metrics" title="Direct link to Garnet Client Metrics" translate="no">​</a></h4>
<table><thead><tr><th>Metric</th><th>Additional Information</th></tr></thead><tbody><tr><td>Connected Clients</td><td></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="query-performance-metrics">Query Performance Metrics<a href="#query-performance-metrics" class="hash-link" aria-label="Direct link to Query Performance Metrics" title="Direct link to Query Performance Metrics" translate="no">​</a></h4>
<table><thead><tr><th>Metric</th><th>Additional Information</th></tr></thead><tbody><tr><td>Command Process Rate</td><td>The total number of commands processed per second.</td></tr><tr><td>Query Latency P99</td><td>The P99 latency of processing per network call received server-side, considering only non-admin requests. Reported in microseconds.</td></tr><tr><td>Query Latency Mean</td><td>The mean latency of processing per network call received server-side, considering only non-admin requests. Reported in microseconds.</td></tr><tr><td>Read Command Process Rate</td><td>The number of read commands processed.</td></tr><tr><td>Write Command Process Rate</td><td>The number of write commands processed.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="garnet-store-metrics">Garnet Store Metrics<a href="#garnet-store-metrics" class="hash-link" aria-label="Direct link to Garnet Store Metrics" title="Direct link to Garnet Store Metrics" translate="no">​</a></h4>
<table><thead><tr><th>Metric</th><th>Additional Information</th></tr></thead><tbody><tr><td>Index Size</td><td>The size of the index in the main store in bytes.</td></tr><tr><td>Log Size</td><td>The size of the log in the main store in bytes.</td></tr><tr><td>Main Store Size</td><td>Total size of the main store including index, log, and overflow in bytes.</td></tr><tr><td>Read Cache Size</td><td>Size of read cache in the main store in bytes.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-metrics">System Metrics<a href="#system-metrics" class="hash-link" aria-label="Direct link to System Metrics" title="Direct link to System Metrics" translate="no">​</a></h4>
<table><thead><tr><th>Metric</th><th>Additional Information</th></tr></thead><tbody><tr><td>Average CPU Usage Active</td><td>Average active CPU usage across all CPUs.</td></tr><tr><td>CPU Usage Active</td><td></td></tr><tr><td>Memory Utilization</td><td></td></tr><tr><td>Network Received Bytes</td><td></td></tr><tr><td>Network Received Packets</td><td></td></tr><tr><td>Network Transmitted Bytes</td><td></td></tr><tr><td>Network Transmitted Packets</td><td></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="activity-log">Activity log<a href="#activity-log" class="hash-link" aria-label="Direct link to Activity log" title="Direct link to Activity log" translate="no">​</a></h3>
<p>The <a href="https://learn.microsoft.com/azure/azure-monitor/platform/activity-log" target="_blank" rel="noopener noreferrer" class="">Azure Monitor activity log</a> contains entries for control plane events from Azure Cosmos DB Garnet Cache resources. It includes information like when a cache cluster is created, when scaling operations occur, or when RBAC permissions are granted. Use the activity log to review or audit administrative actions on your Azure Cosmos DB Garnet Cache resources, or create alerts to be proactively notified when control plane events occur.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-common-issues">Troubleshooting Common Issues<a href="#troubleshooting-common-issues" class="hash-link" aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="high-cpu-usage">High CPU Usage<a href="#high-cpu-usage" class="hash-link" aria-label="Direct link to High CPU Usage" title="Direct link to High CPU Usage" translate="no">​</a></h3>
<p>High CPU usage can indicate various performance bottlenecks in your cluster. Use the <strong>Average CPU Usage Active</strong> and <strong>CPU Usage Active</strong> metrics to identify and resolve CPU-related issues.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="symptoms">Symptoms<a href="#symptoms" class="hash-link" aria-label="Direct link to Symptoms" title="Direct link to Symptoms" translate="no">​</a></h4>
<ul>
<li class=""><strong>Average CPU Usage Active</strong> consistently above 80%</li>
<li class=""><strong>CPU Usage Active</strong> showing spikes during peak usage</li>
<li class="">Increased <strong>Query Latency P99</strong> and <strong>Query Latency Mean</strong> values</li>
<li class="">Degraded <strong>Command Process Rate</strong> performance</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resolution-steps">Resolution Steps<a href="#resolution-steps" class="hash-link" aria-label="Direct link to Resolution Steps" title="Direct link to Resolution Steps" translate="no">​</a></h4>
<ol>
<li class=""><strong>Analyze Command Patterns</strong>: Review <strong>Command Process Rate</strong> trends to identify peak usage periods causing high CPU load</li>
<li class=""><strong>Monitor Node Distribution</strong>: Use the Node split feature to identify if specific nodes are experiencing higher CPU usage than others</li>
<li class=""><strong>Scale Compute Resources</strong>: Consider increasing the replication factor if <strong>Read Command Process Rate</strong> is high, or increase the shard count if <strong>Write Command Process Rate</strong> is high</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="high-memory-usage">High Memory Usage<a href="#high-memory-usage" class="hash-link" aria-label="Direct link to High Memory Usage" title="Direct link to High Memory Usage" translate="no">​</a></h3>
<p>Memory utilization issues can lead to performance degradation and potential data eviction. Monitor <strong>Memory Utilization</strong> alongside store-specific metrics to maintain optimal performance.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="symptoms-1">Symptoms<a href="#symptoms-1" class="hash-link" aria-label="Direct link to Symptoms" title="Direct link to Symptoms" translate="no">​</a></h4>
<ul>
<li class=""><strong>Memory Utilization</strong> approaching or exceeding 85%</li>
<li class=""><strong>Main Store Size</strong> growing rapidly or unexpectedly</li>
<li class=""><strong>Index Size</strong> or <strong>Log Size</strong> consuming excessive memory</li>
<li class="">Increased cache misses or eviction events</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resolution-steps-1">Resolution Steps<a href="#resolution-steps-1" class="hash-link" aria-label="Direct link to Resolution Steps" title="Direct link to Resolution Steps" translate="no">​</a></h4>
<ol>
<li class=""><strong>Analyze Memory Distribution</strong>: Review <strong>Main Store Size</strong>, <strong>Index Size</strong>, <strong>Log Size</strong>, and <strong>Read Cache Size</strong> to identify which component is consuming the most memory</li>
<li class=""><strong>Implement TTL Strategies</strong>: Set appropriate time-to-live values for cached data to ensure automatic cleanup</li>
<li class=""><strong>Optimize Data Structures</strong>: Use more memory-efficient data types where appropriate</li>
<li class=""><strong>Scale Memory Resources</strong>: Consider increasing the shard count for more memory, or scale-up to a higher SKU</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="connection-issues">Connection Issues<a href="#connection-issues" class="hash-link" aria-label="Direct link to Connection Issues" title="Direct link to Connection Issues" translate="no">​</a></h3>
<p>Connection problems can manifest through various network and client metrics. Use <strong>Connected Clients</strong>, <strong>Network Received/Transmitted Bytes</strong>, and <strong>Network Received/Transmitted Packets</strong> to diagnose connectivity issues.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="symptoms-2">Symptoms<a href="#symptoms-2" class="hash-link" aria-label="Direct link to Symptoms" title="Direct link to Symptoms" translate="no">​</a></h4>
<ul>
<li class=""><strong>Connected Clients</strong> count dropping unexpectedly or remaining at zero</li>
<li class=""><strong>Network Received Bytes</strong> or <strong>Network Transmitted Bytes</strong> showing irregular patterns</li>
<li class="">Client applications reporting connection timeouts or failures</li>
<li class="">Inconsistent <strong>Command Process Rate</strong> despite steady application load</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resolution-steps-2">Resolution Steps<a href="#resolution-steps-2" class="hash-link" aria-label="Direct link to Resolution Steps" title="Direct link to Resolution Steps" translate="no">​</a></h4>
<ol>
<li class=""><strong>Verify Network Connectivity</strong>: Test basic network connectivity from client applications to the cache endpoint</li>
<li class=""><strong>Review Authentication</strong>: Verify that authentication credentials are valid and have appropriate permissions</li>
<li class=""><strong>Monitor Connection Patterns</strong>: Analyze <strong>Connected Clients</strong> trends to identify if connection issues are intermittent or persistent</li>
<li class=""><strong>Review Client Configuration</strong>: Ensure client applications are using appropriate connection timeout and retry settings</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-degradation">Performance Degradation<a href="#performance-degradation" class="hash-link" aria-label="Direct link to Performance Degradation" title="Direct link to Performance Degradation" translate="no">​</a></h3>
<p>Performance issues can affect various aspects of your cache operations. Use latency and throughput metrics to identify and resolve performance bottlenecks.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="symptoms-3">Symptoms<a href="#symptoms-3" class="hash-link" aria-label="Direct link to Symptoms" title="Direct link to Symptoms" translate="no">​</a></h4>
<ul>
<li class=""><strong>Query Latency P99</strong> exceeding SLA thresholds (consistently above 3ms)</li>
<li class=""><strong>Query Latency Mean</strong> showing consistent increases</li>
<li class=""><strong>Command Process Rate</strong> declining despite steady or increased demand</li>
<li class=""><strong>Read Command Process Rate</strong> or <strong>Write Command Process Rate</strong> not meeting expected throughput</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resolution-steps-3">Resolution Steps<a href="#resolution-steps-3" class="hash-link" aria-label="Direct link to Resolution Steps" title="Direct link to Resolution Steps" translate="no">​</a></h4>
<ol>
<li class=""><strong>Analyze Latency Patterns</strong>: Compare <strong>Query Latency P99</strong> and <strong>Query Latency Mean</strong> to identify if performance issues are persistent</li>
<li class=""><strong>Check Resource Utilization</strong>: Review <strong>CPU Usage Active</strong> and <strong>Memory Utilization</strong> to identify resource constraints</li>
<li class=""><strong>Evaluate Network Performance</strong>: Check <strong>Network Received/Transmitted Bytes</strong> and <strong>Packets</strong> for signs of network congestion</li>
<li class=""><strong>Review Command Distribution</strong>: Analyze <strong>Read Command Process Rate</strong> vs <strong>Write Command Process Rate</strong> to understand workload characteristics</li>
<li class=""><strong>Identify Node Hotspots</strong>: Use Node-level metrics to detect if specific nodes are experiencing disproportionate load</li>
<li class=""><strong>Scale Appropriately</strong>: Consider upgrading to higher performance tiers or adding more nodes based on the specific bottleneck identified</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learn-more">Learn More<a href="#learn-more" class="hash-link" aria-label="Direct link to Learn More" title="Direct link to Learn More" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/garnet/docs/azure/quickstart">Getting Started</a></li>
<li class=""><a class="" href="/garnet/docs/azure/cluster-configuration">Cluster Configuration</a></li>
<li class=""><a class="" href="/garnet/docs/azure/security">Security</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/microsoft/garnet/tree/main/website/docs/azure/monitoring.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/garnet/docs/azure/security"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Security</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/garnet/docs/azure/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#azure-monitor" class="table-of-contents__link toc-highlight">Azure Monitor</a><ul><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li><li><a href="#activity-log" class="table-of-contents__link toc-highlight">Activity log</a></li></ul></li><li><a href="#troubleshooting-common-issues" class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a><ul><li><a href="#high-cpu-usage" class="table-of-contents__link toc-highlight">High CPU Usage</a></li><li><a href="#high-memory-usage" class="table-of-contents__link toc-highlight">High Memory Usage</a></li><li><a href="#connection-issues" class="table-of-contents__link toc-highlight">Connection Issues</a></li><li><a href="#performance-degradation" class="table-of-contents__link toc-highlight">Performance Degradation</a></li></ul></li><li><a href="#learn-more" class="table-of-contents__link toc-highlight">Learn More</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/garnet/docs/getting-started">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aka.ms/garnet-discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/msrgarnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/garnet/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p class="text-center">
          <a href="https://go.microsoft.com/fwlink/?LinkId=521839" style="color: white;">Privacy &amp; Cookies</a> |
          <a href="https://go.microsoft.com/fwlink/?LinkID=2259814" style="color: white;">Consumer Health Privacy</a> |
          <a href="https://go.microsoft.com/fwlink/?LinkID=206977" style="color: white;">Terms of Use</a> |
          <a href="https://www.microsoft.com/trademarks" style="color: white;">Trademarks</a> | © 2025
          </p></div></div></div></footer></div>
</body>
</html>