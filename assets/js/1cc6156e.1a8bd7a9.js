"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7845],{1643:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>o,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"commands/acl-commands","title":"ACL","description":"ACL CAT","source":"@site/docs/commands/acl.md","sourceDirName":"commands","slug":"/commands/acl","permalink":"/garnet/docs/commands/acl","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/garnet/tree/main/website/docs/commands/acl.md","tags":[],"version":"current","frontMatter":{"id":"acl-commands","sidebar_label":"ACL","title":"ACL","slug":"acl"},"sidebar":"garnetDocSidebar","previous":{"title":"Cluster Commands","permalink":"/garnet/docs/commands/cluster"},"next":{"title":"Scripting and functions","permalink":"/garnet/docs/commands/scripting"}}');var r=s(74848),i=s(28453);const a={id:"acl-commands",sidebar_label:"ACL",title:"ACL",slug:"acl"},t=void 0,d={},c=[{value:"ACL CAT",id:"acl-cat",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Resp Reply",id:"resp-reply",level:4},{value:"ACL DELUSER",id:"acl-deluser",level:3},{value:"Syntax",id:"syntax-1",level:4},{value:"Resp Reply",id:"resp-reply-1",level:4},{value:"ACL GETUSER",id:"acl-getuser",level:3},{value:"Syntax",id:"syntax-2",level:4},{value:"Resp Reply",id:"resp-reply-2",level:4},{value:"ACL GENPASS",id:"acl-genpass",level:3},{value:"Resp Reply",id:"resp-reply-3",level:4},{value:"ACL LIST",id:"acl-list",level:3},{value:"Syntax",id:"syntax-3",level:4},{value:"Resp Reply",id:"resp-reply-4",level:4},{value:"ACL LOAD",id:"acl-load",level:3},{value:"Syntax",id:"syntax-4",level:4},{value:"Resp Reply",id:"resp-reply-5",level:4},{value:"ACL SAVE",id:"acl-save",level:3},{value:"Syntax",id:"syntax-5",level:4},{value:"Resp Reply",id:"resp-reply-6",level:4},{value:"ACL SETUSER",id:"acl-setuser",level:3},{value:"Syntax",id:"syntax-6",level:4},{value:"Resp Reply",id:"resp-reply-7",level:4},{value:"ACL USERS",id:"acl-users",level:3},{value:"Syntax",id:"syntax-7",level:4},{value:"Resp Reply",id:"resp-reply-8",level:4},{value:"ACL WHOAMI",id:"acl-whoami",level:3},{value:"Syntax",id:"syntax-8",level:4},{value:"Resp Reply",id:"resp-reply-9",level:4}];function h(e){const n={code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"acl-cat",children:"ACL CAT"}),"\n",(0,r.jsx)(n.h4,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL CAT [category]\n"})}),"\n",(0,r.jsx)(n.p,{children:"The command shows the available ACL categories if called without arguments. If a category name is given, the command shows all the Garnet commands in the specified category."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"One of the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Array reply: an array of Bulk string reply elements representing ACL categories or commands in a given category."}),"\n",(0,r.jsx)(n.li,{children:"Simple error reply: the command returns an error if an invalid category name is given."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-deluser",children:"ACL DELUSER"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-1",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL DELUSER username [username ...]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Delete all the specified ACL users and terminate all the connections that are authenticated with such users. Note: the special default user cannot be removed from the system, this is the default user that every new connection is authenticated with. The list of users may include usernames that do not exist, in such case no operation is performed for the non existing users."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-1",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Integer reply: the number of users that were deleted. This number will not always match the number of arguments since certain users may not exist."}),"\n",(0,r.jsx)(n.h3,{id:"acl-getuser",children:"ACL GETUSER"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-2",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL GETUSER username\n"})}),"\n",(0,r.jsx)(n.p,{children:"The command returns all the rules defined for an existing ACL user."}),"\n",(0,r.jsx)(n.p,{children:"Specifically, it lists the user's ACL flags, password hashes and commands."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-2",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"One of the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Array reply: a list of ACL rule definitions for the user."}),"\n",(0,r.jsx)(n.li,{children:"Nil reply: if user does not exist."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-genpass",children:"ACL GENPASS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL GENPASS [bits]\n"})}),"\n",(0,r.jsx)(n.p,{children:"The command output is a hexadecimal representation of a random binary string,\nwhich is 'strong' enough to be usable as a password. By default it emits 256 bits (so 64 hex characters)\nThe user can provide an argument in form of number of bits to emit from 1 to 1024 to change the output length.\nNote that the number of bits provided is always rounded to the next multiple of 4.\nSo for instance asking for just 1 bit password will result in 4 bits to be emitted,\nin the form of a single hex character."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-3",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Bulk string reply: pseudorandom data. By default it contains 64 bytes, representing 256 bits of data.\nIf bits was given, the output string length is the number of specified bits (rounded to the next multiple of 4) divided by 4."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-list",children:"ACL LIST"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-3",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL LIST\n"})}),"\n",(0,r.jsx)(n.p,{children:"The command shows the currently active ACL rules in the Garnet server."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-4",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Array reply: an array of Bulk string reply elements."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-load",children:"ACL LOAD"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-4",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL LOAD\n"})}),"\n",(0,r.jsx)(n.p,{children:"When Garnet is configured to use an ACL file, this command will reload the ACLs from the file, replacing all the current ACL rules with the ones defined in the file. The command makes sure to have an all or nothing behavior, that is:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If every line in the file is valid, all the ACLs are loaded."}),"\n",(0,r.jsx)(n.li,{children:"If one or more line in the file is not valid, nothing is loaded, and the old ACL rules defined in the server memory continue to be used."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-5",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Returns +OK on success, otherwise --ERR message if any."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-save",children:"ACL SAVE"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-5",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL SAVE\n"})}),"\n",(0,r.jsx)(n.p,{children:"When Redis is configured to use an ACL file (with the aclfile configuration option), this command will save the currently defined ACLs from the server memory to the ACL file."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-6",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Returns +OK on success, otherwise --ERR message if any."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-setuser",children:"ACL SETUSER"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-6",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL SETUSER username [rule [rule ...]]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create an ACL user with the specified rules or modify the rules of an existing user."}),"\n",(0,r.jsx)(n.p,{children:"Manipulate Garnet ACL users interactively. If the username does not exist, the command creates the username without any privilege. It then reads from left to right all the rules provided as successive arguments, setting the user ACL rules as specified. If the user already exists, the provided ACL rules are simply applied in addition to the rules already set."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-7",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Returns +OK on success, otherwise --ERR message if any."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-users",children:"ACL USERS"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-7",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL USERS\n"})}),"\n",(0,r.jsx)(n.p,{children:"The command shows a list of all the usernames of the currently configured users in the Garnet ACL system."}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-8",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Array reply: list of existing ACL users."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"acl-whoami",children:"ACL WHOAMI"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-8",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"    ACL WHOAMI\n"})}),"\n",(0,r.jsx)(n.p,{children:'Return the username the current connection is authenticated with. New connections are authenticated with the "default" user. They can change user using AUTH.'}),"\n",(0,r.jsx)(n.h4,{id:"resp-reply-9",children:"Resp Reply"}),"\n",(0,r.jsx)(n.p,{children:"Bulk string reply: the username of the current connection."}),"\n",(0,r.jsx)(n.hr,{})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var l=s(96540);const r={},i=l.createContext(r);function a(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);