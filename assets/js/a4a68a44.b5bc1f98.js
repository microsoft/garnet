"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2948],{28453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>c});var t=l(96540);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}},29613:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"commands/client-commands","title":"Client Management","description":"CLIENT ID","source":"@site/docs/commands/client.md","sourceDirName":"commands","slug":"/commands/client","permalink":"/garnet/docs/commands/client","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/garnet/tree/main/website/docs/commands/client.md","tags":[],"version":"current","frontMatter":{"id":"client-commands","sidebar_label":"Client Management","title":"Client Management","slug":"client"},"sidebar":"garnetDocSidebar","previous":{"title":"Server Management","permalink":"/garnet/docs/commands/server"},"next":{"title":"Checkpoint","permalink":"/garnet/docs/commands/checkpoint"}}');var i=l(74848),s=l(28453);const r={id:"client-commands",sidebar_label:"Client Management",title:"Client Management",slug:"client"},c=void 0,a={},d=[{value:"CLIENT ID",id:"client-id",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Resp Reply",id:"resp-reply",level:4},{value:"CLIENT INFO",id:"client-info",level:3},{value:"Syntax",id:"syntax-1",level:4},{value:"Resp Reply",id:"resp-reply-1",level:4},{value:"CLIENT GETNAME",id:"client-getname",level:3},{value:"Syntax",id:"syntax-2",level:4},{value:"Resp Reply",id:"resp-reply-2",level:4},{value:"CLIENT SETNAME",id:"client-setname",level:3},{value:"Syntax",id:"syntax-3",level:4},{value:"Resp Reply",id:"resp-reply-3",level:4},{value:"CLIENT SETINFO",id:"client-setinfo",level:3},{value:"Syntax",id:"syntax-4",level:4},{value:"Resp Reply",id:"resp-reply-4",level:4},{value:"CLIENT KILL",id:"client-kill",level:3},{value:"Syntax",id:"syntax-5",level:4},{value:"Resp Reply",id:"resp-reply-5",level:4},{value:"CLIENT LIST",id:"client-list",level:3},{value:"Syntax",id:"syntax-6",level:4},{value:"Resp Reply",id:"resp-reply-6",level:4},{value:"CLIENT UNBLOCK",id:"client-unblock",level:3},{value:"Syntax",id:"syntax-7",level:4},{value:"Resp Reply",id:"resp-reply-7",level:4}];function o(e){const n={code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"client-id",children:"CLIENT ID"}),"\n",(0,i.jsx)(n.h4,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT ID\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command just returns the ID of the current connection. Every connection ID has certain guarantees:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"It is never repeated, so if CLIENT ID returns the same number, the caller can be sure that the underlying client did not disconnect and reconnect the connection, but it is still the same connection."}),"\n",(0,i.jsx)(n.li,{children:"The ID is monotonically incremental. If the ID of a connection is greater than the ID of another connection, it is guaranteed that the second connection was established with the server at a later time."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Integer reply: the ID of the client."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-info",children:"CLIENT INFO"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-1",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT INFO\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command returns information and statistics about the current client connection in a mostly human readable format."}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-1",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Bulk string reply: a unique string for the current client, as described at the CLIENT LIST page."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-getname",children:"CLIENT GETNAME"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-2",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT GETNAME\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command returns the name of the current connection as set by CLIENT SETNAME."}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-2",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Bulk string reply: the name of the client, or an empty string if no name is set."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-setname",children:"CLIENT SETNAME"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-3",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT SETNAME <name>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command sets the name of the current connection."}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-3",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Simple string reply: OK if the connection name was successfully set."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-setinfo",children:"CLIENT SETINFO"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-4",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT SETINFO <LIB-NAME libname | LIB-VER libver>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command sets the value of a specific section of the current client connection."}),"\n",(0,i.jsx)(n.p,{children:"Currently the supported attributes are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"LIB-NAME - meant to hold the name of the client library that's in use."}),"\n",(0,i.jsx)(n.li,{children:"LIB-VER - meant to hold the client library's version."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-4",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Simple string reply: OK if the section value was successfully set."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-kill",children:"CLIENT KILL"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-5",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT KILL <ip:port | <[ID client-id] | [TYPE <NORMAL | MASTER |\n        SLAVE | REPLICA | PUBSUB>] | [USER username] | [ADDR ip:port] |\n        [LADDR ip:port] | [SKIPME <YES | NO>] | [MAXAGE maxage]\n        [[ID client-id] | [TYPE <NORMAL | MASTER | SLAVE | REPLICA |\n        PUBSUB>] | [USER username] | [ADDR ip:port] | [LADDR ip:port] |\n        [SKIPME <YES | NO>] | [MAXAGE maxage] ...]>>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The CLIENT KILL command closes a given client connection."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["CLIENT KILL addr",":port",". This kill the client matching the given address and port."]}),"\n",(0,i.jsxs)(n.li,{children:["CLIENT KILL ADDR ip",":port",". This kill the client matching the given address and port."]}),"\n",(0,i.jsxs)(n.li,{children:["CLIENT KILL LADDR ip",":port",". Kill all clients connected to specified local (bind) address."]}),"\n",(0,i.jsx)(n.li,{children:"CLIENT KILL ID client-id. Allows to kill a client by its unique ID field. Client ID's are retrieved using the CLIENT LIST command."}),"\n",(0,i.jsx)(n.li,{children:"CLIENT KILL TYPE type, where type is one of normal, master, replica and pubsub. This closes the connections of all the clients in the specified class. Note that clients blocked into the MONITOR command are considered to belong to the normal class."}),"\n",(0,i.jsx)(n.li,{children:"CLIENT KILL USER username. Closes all the connections that are authenticated with the specified ACL username, however it returns an error if the username does not map to an existing ACL user."}),"\n",(0,i.jsx)(n.li,{children:"CLIENT KILL SKIPME yes/no. By default this option is set to yes, that is, the client calling the command will not get killed, however setting this option to no will have the effect of also killing the client calling the command."}),"\n",(0,i.jsx)(n.li,{children:"CLIENT KILL MAXAGE maxage. Closes all the connections that are older than the specified age, in seconds."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-5",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"One of the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Simple string reply: OK when called in 3 argument format and the connection has been closed."}),"\n",(0,i.jsx)(n.li,{children:"Integer reply: when called in filter/value format, the number of clients killed."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-list",children:"CLIENT LIST"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-6",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT LIST [TYPE <NORMAL | MASTER | REPLICA | PUBSUB>]\n        [ID client-id [client-id ...]]\n"})}),"\n",(0,i.jsx)(n.p,{children:"The CLIENT LIST command returns information and statistics about the client connections server in a mostly human readable format."}),"\n",(0,i.jsx)(n.p,{children:"You can use one of the optional subcommands to filter the list. The TYPE type subcommand filters the list by clients' type, where type is one of normal, master, replica, and pubsub."}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-6",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Bulk string reply: information and statistics about client connections."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"client-unblock",children:"CLIENT UNBLOCK"}),"\n",(0,i.jsx)(n.h4,{id:"syntax-7",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"    CLIENT UNBLOCK <client-id> [TIMEOUT | ERROR]\n"})}),"\n",(0,i.jsx)(n.p,{children:"The command unblocks a client blocked by a blocking command such as BRPOP, XREAD, or BLPOP."}),"\n",(0,i.jsx)(n.p,{children:"The optional argument specifies how to unblock the client:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TIMEOUT - Unblock the client as if a timeout occurred (default)"}),"\n",(0,i.jsx)(n.li,{children:"ERROR - Unblock the client returning an error"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"resp-reply-7",children:"Resp Reply"}),"\n",(0,i.jsx)(n.p,{children:"Integer reply:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"1 if the client was unblocked"}),"\n",(0,i.jsx)(n.li,{children:"0 if the client wasn't blocked"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);