"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3360],{28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>l});var t=n(96540);const d={},r=t.createContext(d);function i(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),t.createElement(r.Provider,{value:s},e.children)}},72313:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"commands/json","title":"JSON Module","description":"Below is the full list of JSON Module commands and their implementation status in Garnet.","source":"@site/docs/commands/json.md","sourceDirName":"commands","slug":"/commands/json","permalink":"/garnet/docs/commands/json","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/garnet/tree/main/website/docs/commands/json.md","tags":[],"version":"current","frontMatter":{"id":"json","sidebar_label":"JSON Module","title":"JSON Module","slug":"json"},"sidebar":"garnetDocSidebar","previous":{"title":"Garnet-specific Commands","permalink":"/garnet/docs/commands/garnet-specific-commands"},"next":{"title":"Overview","permalink":"/garnet/docs/extensions/overview"}}');var d=n(74848),r=n(28453);const i={id:"json",sidebar_label:"JSON Module",title:"JSON Module",slug:"json"},l=void 0,c={},h=[{value:"Json Commands List",id:"json-commands-list",level:2},{value:"Command Details",id:"command-details",level:2},{value:"JSON.GET",id:"jsonget",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Arguments",id:"arguments",level:4},{value:"Response Format",id:"response-format",level:4},{value:"Examples",id:"examples",level:4},{value:"JSON.SET",id:"jsonset",level:3},{value:"Syntax",id:"syntax-1",level:4},{value:"Arguments",id:"arguments-1",level:4},{value:"Response Format",id:"response-format-1",level:4},{value:"Examples",id:"examples-1",level:4},{value:"Important Notes",id:"important-notes",level:4},{value:"Supported Json Path Syntax",id:"supported-json-path-syntax",level:2}];function o(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.p,{children:["Below is the full list of JSON Module commands and their implementation status in Garnet.",(0,d.jsx)("br",{}),"\nNote that this list is subject to change as we continue to expand our API command support with the help of our growing community."]}),"\n",(0,d.jsx)(s.h2,{id:"json-commands-list",children:"Json Commands List"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Command"}),(0,d.jsx)(s.th,{children:"Implemented in Garnet"}),(0,d.jsx)(s.th,{children:"Notes"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.a,{href:"#jsonget",children:"JSON.GET"})}),(0,d.jsx)(s.td,{children:"\u2795"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.a,{href:"#jsonset",children:"JSON.SET"})}),(0,d.jsx)(s.td,{children:"\u2795"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.DEL"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.TYPE"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.NUMINCRBY"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.NUMMULTBY"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.STRAPPEND"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.STRLEN"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRAPPEND"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRINDEX"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRINSERT"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRLEN"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRPOP"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.ARRTRIM"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.OBJKEYS"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"JSON.OBJLEN"}),(0,d.jsx)(s.td,{children:"\u2796"}),(0,d.jsx)(s.td,{})]})]})]}),"\n",(0,d.jsx)(s.h2,{id:"command-details",children:"Command Details"}),"\n",(0,d.jsx)(s.h3,{id:"jsonget",children:"JSON.GET"}),"\n",(0,d.jsx)(s.h4,{id:"syntax",children:"Syntax"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"JSON.GET key [INDENT indent-string] [NEWLINE newline-string] [SPACE space-string] [path [path ...]]\n"})}),"\n",(0,d.jsx)(s.h4,{id:"arguments",children:"Arguments"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"key"}),": Key holding the JSON document"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"INDENT"}),": (Optional) Indentation string for pretty printing"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"NEWLINE"}),": (Optional) Newline string for pretty printing"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"SPACE"}),": (Optional) Space string for pretty printing"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"path"}),": (Optional) ",(0,d.jsx)(s.a,{href:"#supported-json-path-syntax",children:"JSONPath-like expression"})," to specify which elements to retrieve"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"response-format",children:"Response Format"}),"\n",(0,d.jsx)(s.p,{children:"Returns one of the following:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Bulk string: JSON-encoded value if path matches"}),"\n",(0,d.jsx)(s.li,{children:"Array: When multiple paths are requested"}),"\n",(0,d.jsx)(s.li,{children:"Null: If key or path doesn't exist"}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"examples",children:"Examples"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:'# Store a complex JSON object\nJSON.SET example $ \'{"name":"John","address":{"city":"London","postal":"SW1A"},"contacts":[{"type":"email","value":"john@example.com"},{"type":"phone","value":"123-456-789"}]}\'\n\n# Get entire document with pretty printing\nJSON.GET example . INDENT "  " NEWLINE "\\n"\n-> {"name":"John","address":{"city":"London","postal":"SW1A"},"contacts":[{"type":"email","value":"john@example.com"},{"type":"phone","value":"123-456-789"}]}\n\n# Get multiple specific paths\nJSON.GET example .name .address.city .contacts[0].value\n-> ["John","London","john@example.com"]\n\n# Get array elements with filter\nJSON.GET example .contacts[?(@.type=="email")].value\n-> ["john@example.com"]\n'})}),"\n",(0,d.jsx)(s.h3,{id:"jsonset",children:"JSON.SET"}),"\n",(0,d.jsx)(s.h4,{id:"syntax-1",children:"Syntax"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"JSON.SET key path value [NX | XX]\n"})}),"\n",(0,d.jsx)(s.h4,{id:"arguments-1",children:"Arguments"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"key"}),": Key to store the JSON document under"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"path"}),": ",(0,d.jsx)(s.a,{href:"#supported-json-path-syntax",children:"JSONPath-like expression"})," specifying the location to set"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"value"}),": Valid JSON value or a string representation"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"NX"}),": Only set the key if it does not exist"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"XX"}),": Only set the key if it already exists"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"response-format-1",children:"Response Format"}),"\n",(0,d.jsx)(s.p,{children:"Returns one of:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:'"OK": Operation successful'}),"\n",(0,d.jsx)(s.li,{children:"Null: Operation failed (when using NX/XX conditions)"}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"examples-1",children:"Examples"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"# Set with NX (only if not exists)\nJSON.SET user:3 $ '{\"name\":\"Bob\"}' NX\n-> OK\n\n# Set with XX (only if exists)\nJSON.SET user:3 .age '25' XX\n-> OK\n\n# Modify nested array\nJSON.SET user:3 .profile.interests[1] '\"reading\"'\n-> OK\n"})}),"\n",(0,d.jsx)(s.h4,{id:"important-notes",children:"Important Notes"}),"\n",(0,d.jsxs)(s.ol,{children:["\n",(0,d.jsx)(s.li,{children:"Path must start with a dot (.)"}),"\n",(0,d.jsx)(s.li,{children:"String values must be properly escaped"}),"\n",(0,d.jsx)(s.li,{children:"Arrays are zero-based indexed"}),"\n",(0,d.jsx)(s.li,{children:"Setting a non-existing parent path will fail"}),"\n",(0,d.jsx)(s.li,{children:"NX and XX are mutually exclusive"}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"supported-json-path-syntax",children:"Supported Json Path Syntax"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Path Type"}),(0,d.jsx)(s.th,{children:"Syntax"}),(0,d.jsx)(s.th,{children:"Description"}),(0,d.jsx)(s.th,{children:"Example"}),(0,d.jsx)(s.th,{children:"Notes"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Root"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"."})," or ",(0,d.jsx)(s.code,{children:"$"})]}),(0,d.jsx)(s.td,{children:"References the root JSON document"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $"})}),(0,d.jsx)(s.td,{children:"Both notations supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Property Access"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".property"})," or ",(0,d.jsx)(s.code,{children:"$.property"})]}),(0,d.jsx)(s.td,{children:"Accesses direct property of object"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.name"})}),(0,d.jsx)(s.td,{children:"Case sensitive"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Nested Property"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".prop1.prop2"})," or ",(0,d.jsx)(s.code,{children:"$.prop1.prop2"})]}),(0,d.jsx)(s.td,{children:"Accesses nested object properties"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.address.city"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Index"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".array[n]"})," or ",(0,d.jsx)(s.code,{children:"$.array[n]"})]}),(0,d.jsx)(s.td,{children:"Accesses array element at index n"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.users[0]"})}),(0,d.jsx)(s.td,{children:"Zero-based indexing"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Slice"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".array[start:end]"})}),(0,d.jsx)(s.td,{children:"Retrieves array elements from start to end"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.users[1:3]"})}),(0,d.jsx)(s.td,{children:"End index is exclusive"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Last Element"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".array[-1]"})}),(0,d.jsx)(s.td,{children:"Accesses last element of array"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.users[-1]"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"All Array Elements"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".[*]"})," or ",(0,d.jsx)(s.code,{children:"$[*]"})]}),(0,d.jsx)(s.td,{children:"Selects all elements in array"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $[*]"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Filter"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".[?(@.prop==value)]"})}),(0,d.jsx)(s.td,{children:"Filters array elements by condition"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.users[?(@.age>21)]"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Multiple Paths"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".prop1 .prop2"})}),(0,d.jsx)(s.td,{children:"Retrieves multiple paths at once"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.name $.age"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Wildcard"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".*"})," or ",(0,d.jsx)(s.code,{children:"$.*"})]}),(0,d.jsx)(s.td,{children:"Selects all properties of object"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.address.*"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Append"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".[+]"})}),(0,d.jsx)(s.td,{children:"Appends to array (SET only)"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.SET key $.list[+] value"})}),(0,d.jsx)(s.td,{children:"Not supported as of now"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Array Range"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:".[start:]"})}),(0,d.jsx)(s.td,{children:"Selects elements from start to end"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.list[2:]"})}),(0,d.jsx)(s.td,{})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Conditional"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:'.[?(@.size=="L")]'})}),(0,d.jsx)(s.td,{children:"Complex array filtering"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:'JSON.GET key $.items[?(@.size=="L")]'})}),(0,d.jsx)(s.td,{children:"Supports multiple conditions"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Nested Arrays"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:".[*][0]"})," or ",(0,d.jsx)(s.code,{children:"$[*][0]"})]}),(0,d.jsx)(s.td,{children:"Access nested array elements"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"JSON.GET key $.matrix[*][0]"})}),(0,d.jsx)(s.td,{})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Special Considerations:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Array indices are zero-based"}),"\n",(0,d.jsx)(s.li,{children:"Property names are case-sensitive"}),"\n",(0,d.jsx)(s.li,{children:"Invalid paths return null"}),"\n",(0,d.jsx)(s.li,{children:"Multiple filters can be combined with && and ||"}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);